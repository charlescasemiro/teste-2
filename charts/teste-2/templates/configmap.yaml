apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.Name | default .Chart.Name }}
  labels:
    app: {{ .Values.Name | default .Chart.Name }}
    chart: {{ .Values.Name | default .Chart.Name }}-{{ .Chart.Version | replace "+" "_" }}
    release: {{ .Release.Name }}
    heritage: {{ .Release.Service }}
data:
  # Runtime
  ASPNETCORE_ENVIRONMENT: "{{ .Values.ASPNETCORE_ENVIRONMENT }}"
  ApiBasePath: {{ .Values.IngressPath | default .Chart.Name }}
  TZ: "{{ .Values.TZ }}"
  #ASPNETCORE_URLS: "https://*:8080"
  ASPNETCORE_URLS: "http://*:8080"
  LANG: "pt_BR.UTF-8"
  LANGUAGE: "pt_BR"
  WEBSITE_LOAD_CERTIFICATES: "*"
  CertificateValidationConfig__UseMiddleware: "false"
  UseClientCertificate: "false"
  ASPNETCORE_Kestrel__Certificates__Default__Path: "/https/tls.crt"
  ASPNETCORE_Kestrel__Certificates__Default__KeyPath: "/https/tls.key"

  AllowedHosts: "{{ .Values.AllowedHosts }}"
